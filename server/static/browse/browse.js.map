{
  "version": 3,
  "sources": ["../../../node_modules/preact/src/constants.js", "../../../node_modules/preact/src/util.js", "../../../node_modules/preact/src/options.js", "../../../node_modules/preact/src/create-element.js", "../../../node_modules/preact/src/component.js", "../../../node_modules/preact/src/diff/props.js", "../../../node_modules/preact/src/create-context.js", "../../../node_modules/preact/src/diff/children.js", "../../../node_modules/preact/src/diff/index.js", "../../../node_modules/preact/src/render.js", "../../../node_modules/preact/src/clone-element.js", "../../../node_modules/preact/src/diff/catch-error.js", "../../../node_modules/preact/devtools/src/index.js", "../../../node_modules/preact/devtools/src/devtools.js", "../../../node_modules/preact/debug/src/check-props.js", "../../../node_modules/preact/debug/src/component-stack.js", "../../../node_modules/preact/debug/src/debug.js", "../../../node_modules/preact/debug/src/constants.js", "../../../node_modules/preact/debug/src/util.js", "../../../node_modules/preact/debug/src/index.js", "../../../node_modules/preact/hooks/src/index.js", "../../../src/graphs/vertex.ts", "../../../src/graphs/edge_table.ts", "../../../src/graphs/vertex_table.ts", "../../../src/graphs/graph.ts", "../../../src/util.ts", "../../../src/schemas/builders.ts", "../../../src/schemas/graph.ts", "../../../src/frontend/shared/state/plangs_context.ts", "../../../src/frontend/shared/start.tsx", "../../../src/frontend/browse/components/facets/options.tsx", "../../../src/frontend/browse/components/plangs_table.tsx", "../../../node_modules/lodash-es/_freeGlobal.js", "../../../node_modules/lodash-es/_root.js", "../../../node_modules/lodash-es/_Symbol.js", "../../../node_modules/lodash-es/_getRawTag.js", "../../../node_modules/lodash-es/_objectToString.js", "../../../node_modules/lodash-es/_baseGetTag.js", "../../../node_modules/lodash-es/isObjectLike.js", "../../../node_modules/lodash-es/isArray.js", "../../../node_modules/lodash-es/isObject.js", "../../../node_modules/lodash-es/isFunction.js", "../../../node_modules/lodash-es/_coreJsData.js", "../../../node_modules/lodash-es/_isMasked.js", "../../../node_modules/lodash-es/_toSource.js", "../../../node_modules/lodash-es/_baseIsNative.js", "../../../node_modules/lodash-es/_getValue.js", "../../../node_modules/lodash-es/_getNative.js", "../../../node_modules/lodash-es/_WeakMap.js", "../../../node_modules/lodash-es/_isIndex.js", "../../../node_modules/lodash-es/eq.js", "../../../node_modules/lodash-es/isLength.js", "../../../node_modules/lodash-es/isArrayLike.js", "../../../node_modules/lodash-es/_isPrototype.js", "../../../node_modules/lodash-es/_baseTimes.js", "../../../node_modules/lodash-es/_baseIsArguments.js", "../../../node_modules/lodash-es/isArguments.js", "../../../node_modules/lodash-es/stubFalse.js", "../../../node_modules/lodash-es/isBuffer.js", "../../../node_modules/lodash-es/_baseIsTypedArray.js", "../../../node_modules/lodash-es/_baseUnary.js", "../../../node_modules/lodash-es/_nodeUtil.js", "../../../node_modules/lodash-es/isTypedArray.js", "../../../node_modules/lodash-es/_arrayLikeKeys.js", "../../../node_modules/lodash-es/_overArg.js", "../../../node_modules/lodash-es/_nativeKeys.js", "../../../node_modules/lodash-es/_baseKeys.js", "../../../node_modules/lodash-es/keys.js", "../../../node_modules/lodash-es/_nativeCreate.js", "../../../node_modules/lodash-es/_hashClear.js", "../../../node_modules/lodash-es/_hashDelete.js", "../../../node_modules/lodash-es/_hashGet.js", "../../../node_modules/lodash-es/_hashHas.js", "../../../node_modules/lodash-es/_hashSet.js", "../../../node_modules/lodash-es/_Hash.js", "../../../node_modules/lodash-es/_listCacheClear.js", "../../../node_modules/lodash-es/_assocIndexOf.js", "../../../node_modules/lodash-es/_listCacheDelete.js", "../../../node_modules/lodash-es/_listCacheGet.js", "../../../node_modules/lodash-es/_listCacheHas.js", "../../../node_modules/lodash-es/_listCacheSet.js", "../../../node_modules/lodash-es/_ListCache.js", "../../../node_modules/lodash-es/_Map.js", "../../../node_modules/lodash-es/_mapCacheClear.js", "../../../node_modules/lodash-es/_isKeyable.js", "../../../node_modules/lodash-es/_getMapData.js", "../../../node_modules/lodash-es/_mapCacheDelete.js", "../../../node_modules/lodash-es/_mapCacheGet.js", "../../../node_modules/lodash-es/_mapCacheHas.js", "../../../node_modules/lodash-es/_mapCacheSet.js", "../../../node_modules/lodash-es/_MapCache.js", "../../../node_modules/lodash-es/_arrayPush.js", "../../../node_modules/lodash-es/_stackClear.js", "../../../node_modules/lodash-es/_stackDelete.js", "../../../node_modules/lodash-es/_stackGet.js", "../../../node_modules/lodash-es/_stackHas.js", "../../../node_modules/lodash-es/_stackSet.js", "../../../node_modules/lodash-es/_Stack.js", "../../../node_modules/lodash-es/_arrayFilter.js", "../../../node_modules/lodash-es/stubArray.js", "../../../node_modules/lodash-es/_getSymbols.js", "../../../node_modules/lodash-es/_baseGetAllKeys.js", "../../../node_modules/lodash-es/_getAllKeys.js", "../../../node_modules/lodash-es/_DataView.js", "../../../node_modules/lodash-es/_Promise.js", "../../../node_modules/lodash-es/_Set.js", "../../../node_modules/lodash-es/_getTag.js", "../../../node_modules/lodash-es/_Uint8Array.js", "../../../node_modules/lodash-es/_setCacheAdd.js", "../../../node_modules/lodash-es/_setCacheHas.js", "../../../node_modules/lodash-es/_SetCache.js", "../../../node_modules/lodash-es/_arraySome.js", "../../../node_modules/lodash-es/_cacheHas.js", "../../../node_modules/lodash-es/_equalArrays.js", "../../../node_modules/lodash-es/_mapToArray.js", "../../../node_modules/lodash-es/_setToArray.js", "../../../node_modules/lodash-es/_equalByTag.js", "../../../node_modules/lodash-es/_equalObjects.js", "../../../node_modules/lodash-es/_baseIsEqualDeep.js", "../../../node_modules/lodash-es/_baseIsEqual.js", "../../../node_modules/lodash-es/isEqual.js", "../../../src/frontend/browse/state/plangs_query.ts", "../../../src/frontend/browse/browse.tsx"],
  "sourcesContent": ["/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 16;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 17;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {preact.ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor == undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {Component} a\n * @param {Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture =\n\t\t\tname !== (name = name.replace(/(PointerCapture)$|Capture$/i, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (\n\t\t\tname.toLowerCase() in dom ||\n\t\t\tname === 'onFocusOut' ||\n\t\t\tname === 'onFocusIn'\n\t\t)\n\t\t\tname = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == 'http://www.w3.org/2000/svg') {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == null) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR, INSERT_VNODE, MATCHED } from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\tnewParentVNode._nextDom = oldDom;\n\tconstructNewChildrenArray(newParentVNode, renderResult, oldChildren);\n\toldDom = newParentVNode._nextDom;\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index === -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, null, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == null && newDom != null) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tif (\n\t\t\tchildVNode._flags & INSERT_VNODE ||\n\t\t\toldVNode._children === childVNode._children\n\t\t) {\n\t\t\t// @ts-expect-error olDom should be present on a DOM node\n\t\t\tif (oldDom && !oldDom.isConnected) {\n\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t}\n\t\t\toldDom = insert(childVNode, oldDom, parentDom);\n\t\t} else if (\n\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\tchildVNode._nextDom !== undefined\n\t\t) {\n\t\t\t// Since Fragments or components that return Fragment like VNodes can\n\t\t\t// contain multiple DOM nodes as the same level, continue the diff from\n\t\t\t// the sibling of last DOM child of this child VNode\n\t\t\toldDom = childVNode._nextDom;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because it\n\t\t// is only used by `diffChildren` to determine where to resume the diff\n\t\t// after diffing Components and Fragments. Once we store it the nextDOM\n\t\t// local var, we can clean up the property. Also prevents us hanging on to\n\t\t// DOM nodes that may have been unmounted.\n\t\tchildVNode._nextDom = undefined;\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\t// TODO: With new child diffing algo, consider alt ways to diff Fragments.\n\t// Such as dropping oldDom and moving fragments in place\n\t//\n\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t// _nextDom property to the nextSibling of its last child DOM node.\n\t//\n\t// `oldDom` contains the correct value here because if the last child\n\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t// node's nextSibling.\n\tnewParentVNode._nextDom = oldDom;\n\tnewParentVNode._dom = firstChildDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(newParentVNode, renderResult, oldChildren) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tconst newChildrenLength = renderResult.length;\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode.constructor === undefined && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\n\t\t// Handle unmounting null placeholders, i.e. VNode => null in unkeyed children\n\t\tif (childVNode == null) {\n\t\t\toldVNode = oldChildren[skewedIndex];\n\t\t\tif (\n\t\t\t\toldVNode &&\n\t\t\t\toldVNode.key == null &&\n\t\t\t\toldVNode._dom &&\n\t\t\t\t(oldVNode._flags & MATCHED) === 0\n\t\t\t) {\n\t\t\t\tif (oldVNode._dom == newParentVNode._nextDom) {\n\t\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode, false);\n\n\t\t\t\t// Explicitly nullify this position in oldChildren instead of just\n\t\t\t\t// setting `_match=true` to prevent other routines (e.g.\n\t\t\t\t// `findMatchingIndex` or `getDomSibling`) from thinking VNodes or DOM\n\t\t\t\t// nodes in this position are still available to be used in diffing when\n\t\t\t\t// they have actually already been unmounted. For example, by only\n\t\t\t\t// setting `_match=true` here, the unmounting loop later would attempt\n\t\t\t\t// to unmount this VNode again seeing `_match==true`.  Further,\n\t\t\t\t// getDomSibling doesn't know about _match and so would incorrectly\n\t\t\t\t// assume DOM nodes in this subtree are mounted and usable.\n\t\t\t\toldChildren[skewedIndex] = null;\n\t\t\t\tremainingOldChildren--;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\tconst matchingIndex = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t);\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tchildVNode._index = matchingIndex;\n\n\t\toldVNode = null;\n\t\tif (matchingIndex !== -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original === null\n\t\tconst isMounting = oldVNode == null || oldVNode._original === null;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\tskew--;\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex !== skewedIndex) {\n\t\t\tif (matchingIndex === skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else if (matchingIndex > skewedIndex) {\n\t\t\t\tif (remainingOldChildren > newChildrenLength - skewedIndex) {\n\t\t\t\t\tskew += matchingIndex - skewedIndex;\n\t\t\t\t} else {\n\t\t\t\t\tskew--;\n\t\t\t\t}\n\t\t\t} else if (matchingIndex < skewedIndex) {\n\t\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\t\tskew = matchingIndex - skewedIndex;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tskew = 0;\n\t\t\t}\n\n\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t// match the new skew index (i + new skew)\n\t\t\tif (matchingIndex !== i + skew) {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != null && (oldVNode._flags & MATCHED) === 0) {\n\t\t\t\tif (oldVNode._dom == newParentVNode._nextDom) {\n\t\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tparentDom.insertBefore(parentVNode._dom, oldDom || null);\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != null && oldDom.nodeType === 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet x = skewedIndex - 1;\n\tlet y = skewedIndex + 1;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\tlet shouldSearch =\n\t\tremainingOldChildren >\n\t\t(oldVNode != null && (oldVNode._flags & MATCHED) === 0 ? 1 : 0);\n\n\tif (\n\t\toldVNode === null ||\n\t\t(oldVNode &&\n\t\t\tkey == oldVNode.key &&\n\t\t\ttype === oldVNode.type &&\n\t\t\t(oldVNode._flags & MATCHED) === 0)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) === 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) === 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import {\n\tEMPTY_OBJ,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tRESET_MODE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\t((c.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t\tnewVNode._original === oldVNode._original)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = null;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t: MODE_HYDRATE;\n\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t\t// ^ could possibly be simplified to:\n\t\t\t\t// excessDomChildren.length = 0;\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == null &&\n\t\tnewVNode._original === oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\tnewVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\troot._nextDom = undefined;\n\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType === 'svg') namespace = 'http://www.w3.org/2000/svg';\n\telse if (nodeType === 'math')\n\t\tnamespace = 'http://www.w3.org/1998/Math/MathML';\n\telse if (!namespace) namespace = 'http://www.w3.org/1999/xhtml';\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value === !!nodeType &&\n\t\t\t\t(nodeType ? value.localName === nodeType : value.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != null) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (i !== 'key' && !(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, null, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\ti !== 'key' &&\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html !== oldHtml.__html &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType === 'foreignObject'\n\t\t\t\t\t? 'http://www.w3.org/1999/xhtml'\n\t\t\t\t\t: namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (\n\t\t\t\tinputValue !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType === 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && inputValue !== oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked !== undefined && checked !== dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any>} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._component = vnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {ComponentChild} vnode The virtual node to render\n * @param {PreactElement} parentDom The DOM element to render into\n * @param {PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {ComponentChild} vnode The virtual node to render\n * @param {PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {VNode} [oldVNode]\n * @param {ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {Component} */\n\tlet component,\n\t\t/** @type {ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "import { options } from 'preact';\nimport { initDevTools } from './devtools';\n\ninitDevTools();\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, name: string) => T}\n */\nexport function addHookName(value, name) {\n\tif (options._addHookName) {\n\t\toptions._addHookName(name);\n\t}\n\treturn value;\n}\n", "import { options, Fragment, Component } from 'preact';\n\nexport function initDevTools() {\n\tif (typeof window != 'undefined' && window.__PREACT_DEVTOOLS__) {\n\t\twindow.__PREACT_DEVTOOLS__.attachPreact('10.22.0', options, {\n\t\t\tFragment,\n\t\t\tComponent\n\t\t});\n\t}\n}\n", "const ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nlet loggedTypeFailures = {};\n\n/**\n * Reset the history of which prop type warnings have been logged.\n */\nexport function resetPropWarnings() {\n\tloggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * Adapted from https://github.com/facebook/prop-types/blob/master/checkPropTypes.js\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n */\nexport function checkPropTypes(\n\ttypeSpecs,\n\tvalues,\n\tlocation,\n\tcomponentName,\n\tgetStack\n) {\n\tObject.keys(typeSpecs).forEach(typeSpecName => {\n\t\tlet error;\n\t\ttry {\n\t\t\terror = typeSpecs[typeSpecName](\n\t\t\t\tvalues,\n\t\t\t\ttypeSpecName,\n\t\t\t\tcomponentName,\n\t\t\t\tlocation,\n\t\t\t\tnull,\n\t\t\t\tReactPropTypesSecret\n\t\t\t);\n\t\t} catch (e) {\n\t\t\terror = e;\n\t\t}\n\t\tif (error && !(error.message in loggedTypeFailures)) {\n\t\t\tloggedTypeFailures[error.message] = true;\n\t\t\tconsole.error(\n\t\t\t\t`Failed ${location} type: ${error.message}${\n\t\t\t\t\t(getStack && `\\n${getStack()}`) || ''\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\t});\n}\n", "import { options, Fragment } from 'preact';\n\n/**\n * Get human readable name of the component/dom node\n * @param {import('./internal').VNode} vnode\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function getDisplayName(vnode) {\n\tif (vnode.type === Fragment) {\n\t\treturn 'Fragment';\n\t} else if (typeof vnode.type == 'function') {\n\t\treturn vnode.type.displayName || vnode.type.name;\n\t} else if (typeof vnode.type == 'string') {\n\t\treturn vnode.type;\n\t}\n\n\treturn '#text';\n}\n\n/**\n * Used to keep track of the currently rendered `vnode` and print it\n * in debug messages.\n */\nlet renderStack = [];\n\n/**\n * Keep track of the current owners. An owner describes a component\n * which was responsible to render a specific `vnode`. This exclude\n * children that are passed via `props.children`, because they belong\n * to the parent owner.\n *\n * ```jsx\n * const Foo = props => <div>{props.children}</div> // div's owner is Foo\n * const Bar = props => {\n *   return (\n *     <Foo><span /></Foo> // Foo's owner is Bar, span's owner is Bar\n *   )\n * }\n * ```\n *\n * Note: A `vnode` may be hoisted to the root scope due to compiler\n * optimiztions. In these cases the `_owner` will be different.\n */\nlet ownerStack = [];\n\n/**\n * Get the currently rendered `vnode`\n * @returns {import('./internal').VNode | null}\n */\nexport function getCurrentVNode() {\n\treturn renderStack.length > 0 ? renderStack[renderStack.length - 1] : null;\n}\n\n/**\n * If the user doesn't have `@babel/plugin-transform-react-jsx-source`\n * somewhere in his tool chain we can't print the filename and source\n * location of a component. In that case we just omit that, but we'll\n * print a helpful message to the console, notifying the user of it.\n */\nlet showJsxSourcePluginWarning = true;\n\n/**\n * Check if a `vnode` is a possible owner.\n * @param {import('./internal').VNode} vnode\n */\nfunction isPossibleOwner(vnode) {\n\treturn typeof vnode.type == 'function' && vnode.type != Fragment;\n}\n\n/**\n * Return the component stack that was captured up to this point.\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function getOwnerStack(vnode) {\n\tconst stack = [vnode];\n\tlet next = vnode;\n\twhile (next._owner != null) {\n\t\tstack.push(next._owner);\n\t\tnext = next._owner;\n\t}\n\n\treturn stack.reduce((acc, owner) => {\n\t\tacc += `  in ${getDisplayName(owner)}`;\n\n\t\tconst source = owner.__source;\n\t\tif (source) {\n\t\t\tacc += ` (at ${source.fileName}:${source.lineNumber})`;\n\t\t} else if (showJsxSourcePluginWarning) {\n\t\t\tconsole.warn(\n\t\t\t\t'Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.'\n\t\t\t);\n\t\t}\n\t\tshowJsxSourcePluginWarning = false;\n\n\t\treturn (acc += '\\n');\n\t}, '');\n}\n\n/**\n * Setup code to capture the component trace while rendering. Note that\n * we cannot simply traverse `vnode._parent` upwards, because we have some\n * debug messages for `this.setState` where the `vnode` is `undefined`.\n */\nexport function setupComponentStack() {\n\tlet oldDiff = options._diff;\n\tlet oldDiffed = options.diffed;\n\tlet oldRoot = options._root;\n\tlet oldVNode = options.vnode;\n\tlet oldRender = options._render;\n\n\toptions.diffed = vnode => {\n\t\tif (isPossibleOwner(vnode)) {\n\t\t\townerStack.pop();\n\t\t}\n\t\trenderStack.pop();\n\t\tif (oldDiffed) oldDiffed(vnode);\n\t};\n\n\toptions._diff = vnode => {\n\t\tif (isPossibleOwner(vnode)) {\n\t\t\trenderStack.push(vnode);\n\t\t}\n\t\tif (oldDiff) oldDiff(vnode);\n\t};\n\n\toptions._root = (vnode, parent) => {\n\t\townerStack = [];\n\t\tif (oldRoot) oldRoot(vnode, parent);\n\t};\n\n\toptions.vnode = vnode => {\n\t\tvnode._owner =\n\t\t\townerStack.length > 0 ? ownerStack[ownerStack.length - 1] : null;\n\t\tif (oldVNode) oldVNode(vnode);\n\t};\n\n\toptions._render = vnode => {\n\t\tif (isPossibleOwner(vnode)) {\n\t\t\townerStack.push(vnode);\n\t\t}\n\n\t\tif (oldRender) oldRender(vnode);\n\t};\n}\n", "import { checkPropTypes } from './check-props';\nimport { options, Component } from 'preact';\nimport {\n\tELEMENT_NODE,\n\tDOCUMENT_NODE,\n\tDOCUMENT_FRAGMENT_NODE\n} from './constants';\nimport {\n\tgetOwnerStack,\n\tsetupComponentStack,\n\tgetCurrentVNode,\n\tgetDisplayName\n} from './component-stack';\nimport { assign, isNaN } from './util';\n\nconst isWeakMapSupported = typeof WeakMap == 'function';\n\n/**\n * @param {import('./internal').VNode} vnode\n * @returns {Array<string>}\n */\nfunction getDomChildren(vnode) {\n\tlet domChildren = [];\n\n\tif (!vnode._children) return domChildren;\n\n\tvnode._children.forEach(child => {\n\t\tif (child && typeof child.type === 'function') {\n\t\t\tdomChildren.push.apply(domChildren, getDomChildren(child));\n\t\t} else if (child && typeof child.type === 'string') {\n\t\t\tdomChildren.push(child.type);\n\t\t}\n\t});\n\n\treturn domChildren;\n}\n\n/**\n * @param {import('./internal').VNode} parent\n * @returns {string}\n */\nfunction getClosestDomNodeParentName(parent) {\n\tif (!parent) return '';\n\tif (typeof parent.type == 'function') {\n\t\tif (parent._parent === null) {\n\t\t\tif (parent._dom !== null && parent._dom.parentNode !== null) {\n\t\t\t\treturn parent._dom.parentNode.localName;\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\t\treturn getClosestDomNodeParentName(parent._parent);\n\t}\n\treturn /** @type {string} */ (parent.type);\n}\n\nexport function initDebug() {\n\tsetupComponentStack();\n\n\tlet hooksAllowed = false;\n\n\t/* eslint-disable no-console */\n\tlet oldBeforeDiff = options._diff;\n\tlet oldDiffed = options.diffed;\n\tlet oldVnode = options.vnode;\n\tlet oldRender = options._render;\n\tlet oldCatchError = options._catchError;\n\tlet oldRoot = options._root;\n\tlet oldHook = options._hook;\n\tconst warnedComponents = !isWeakMapSupported\n\t\t? null\n\t\t: {\n\t\t\t\tuseEffect: new WeakMap(),\n\t\t\t\tuseLayoutEffect: new WeakMap(),\n\t\t\t\tlazyPropTypes: new WeakMap()\n\t\t  };\n\tconst deprecations = [];\n\n\toptions._catchError = (error, vnode, oldVNode, errorInfo) => {\n\t\tlet component = vnode && vnode._component;\n\t\tif (component && typeof error.then == 'function') {\n\t\t\tconst promise = error;\n\t\t\terror = new Error(\n\t\t\t\t`Missing Suspense. The throwing component was: ${getDisplayName(vnode)}`\n\t\t\t);\n\n\t\t\tlet parent = vnode;\n\t\t\tfor (; parent; parent = parent._parent) {\n\t\t\t\tif (parent._component && parent._component._childDidSuspend) {\n\t\t\t\t\terror = promise;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We haven't recovered and we know at this point that there is no\n\t\t\t// Suspense component higher up in the tree\n\t\t\tif (error instanceof Error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\terrorInfo = errorInfo || {};\n\t\t\terrorInfo.componentStack = getOwnerStack(vnode);\n\t\t\toldCatchError(error, vnode, oldVNode, errorInfo);\n\n\t\t\t// when an error was handled by an ErrorBoundary we will nonetheless emit an error\n\t\t\t// event on the window object. This is to make up for react compatibility in dev mode\n\t\t\t// and thus make the Next.js dev overlay work.\n\t\t\tif (typeof error.then != 'function') {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthrow error;\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\toptions._root = (vnode, parentNode) => {\n\t\tif (!parentNode) {\n\t\t\tthrow new Error(\n\t\t\t\t'Undefined parent passed to render(), this is the second argument.\\n' +\n\t\t\t\t\t'Check if the element is available in the DOM/has the correct id.'\n\t\t\t);\n\t\t}\n\n\t\tlet isValid;\n\t\tswitch (parentNode.nodeType) {\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\tcase DOCUMENT_NODE:\n\t\t\t\tisValid = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tisValid = false;\n\t\t}\n\n\t\tif (!isValid) {\n\t\t\tlet componentName = getDisplayName(vnode);\n\t\t\tthrow new Error(\n\t\t\t\t`Expected a valid HTML node as a second argument to render.\tReceived ${parentNode} instead: render(<${componentName} />, ${parentNode});`\n\t\t\t);\n\t\t}\n\n\t\tif (oldRoot) oldRoot(vnode, parentNode);\n\t};\n\n\toptions._diff = vnode => {\n\t\tlet { type } = vnode;\n\n\t\thooksAllowed = true;\n\n\t\tif (type === undefined) {\n\t\t\tthrow new Error(\n\t\t\t\t'Undefined component passed to createElement()\\n\\n' +\n\t\t\t\t\t'You likely forgot to export your component or might have mixed up default and named imports' +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t} else if (type != null && typeof type == 'object') {\n\t\t\tif (type._children !== undefined && type._dom !== undefined) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Invalid type passed to createElement(): ${type}\\n\\n` +\n\t\t\t\t\t\t'Did you accidentally pass a JSX literal as JSX twice?\\n\\n' +\n\t\t\t\t\t\t`  let My${getDisplayName(vnode)} = ${serializeVNode(type)};\\n` +\n\t\t\t\t\t\t`  let vnode = <My${getDisplayName(vnode)} />;\\n\\n` +\n\t\t\t\t\t\t'This usually happens when you export a JSX literal and not the component.' +\n\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid type passed to createElement(): ' +\n\t\t\t\t\t(Array.isArray(type) ? 'array' : type)\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\tvnode.ref !== undefined &&\n\t\t\ttypeof vnode.ref != 'function' &&\n\t\t\ttypeof vnode.ref != 'object' &&\n\t\t\t!('$$typeof' in vnode) // allow string refs when preact-compat is installed\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\t`Component's \"ref\" property should be a function, or an object created ` +\n\t\t\t\t\t`by createRef(), but got [${typeof vnode.ref}] instead\\n` +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t}\n\n\t\tif (typeof vnode.type == 'string') {\n\t\t\tfor (const key in vnode.props) {\n\t\t\t\tif (\n\t\t\t\t\tkey[0] === 'o' &&\n\t\t\t\t\tkey[1] === 'n' &&\n\t\t\t\t\ttypeof vnode.props[key] != 'function' &&\n\t\t\t\t\tvnode.props[key] != null\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Component's \"${key}\" property should be a function, ` +\n\t\t\t\t\t\t\t`but got [${typeof vnode.props[key]}] instead\\n` +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Check prop-types if available\n\t\tif (typeof vnode.type == 'function' && vnode.type.propTypes) {\n\t\t\tif (\n\t\t\t\tvnode.type.displayName === 'Lazy' &&\n\t\t\t\twarnedComponents &&\n\t\t\t\t!warnedComponents.lazyPropTypes.has(vnode.type)\n\t\t\t) {\n\t\t\t\tconst m =\n\t\t\t\t\t'PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ';\n\t\t\t\ttry {\n\t\t\t\t\tconst lazyVNode = vnode.type();\n\t\t\t\t\twarnedComponents.lazyPropTypes.set(vnode.type, true);\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\tm + `Component wrapped in lazy() is ${getDisplayName(lazyVNode)}`\n\t\t\t\t\t);\n\t\t\t\t} catch (promise) {\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\tm + \"We will log the wrapped component's name once it is loaded.\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet values = vnode.props;\n\t\t\tif (vnode.type._forwarded) {\n\t\t\t\tvalues = assign({}, values);\n\t\t\t\tdelete values.ref;\n\t\t\t}\n\n\t\t\tcheckPropTypes(\n\t\t\t\tvnode.type.propTypes,\n\t\t\t\tvalues,\n\t\t\t\t'prop',\n\t\t\t\tgetDisplayName(vnode),\n\t\t\t\t() => getOwnerStack(vnode)\n\t\t\t);\n\t\t}\n\n\t\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n\t};\n\n\tlet renderCount = 0;\n\tlet currentComponent;\n\toptions._render = vnode => {\n\t\tif (oldRender) {\n\t\t\toldRender(vnode);\n\t\t}\n\t\thooksAllowed = true;\n\n\t\tconst nextComponent = vnode._component;\n\t\tif (nextComponent === currentComponent) {\n\t\t\trenderCount++;\n\t\t} else {\n\t\t\trenderCount = 1;\n\t\t}\n\n\t\tif (renderCount >= 25) {\n\t\t\tthrow new Error(\n\t\t\t\t`Too many re-renders. This is limited to prevent an infinite loop ` +\n\t\t\t\t\t`which may lock up your browser. The component causing this is: ${getDisplayName(\n\t\t\t\t\t\tvnode\n\t\t\t\t\t)}`\n\t\t\t);\n\t\t}\n\n\t\tcurrentComponent = nextComponent;\n\t};\n\n\toptions._hook = (comp, index, type) => {\n\t\tif (!comp || !hooksAllowed) {\n\t\t\tthrow new Error('Hook can only be invoked from render methods.');\n\t\t}\n\n\t\tif (oldHook) oldHook(comp, index, type);\n\t};\n\n\t// Ideally we'd want to print a warning once per component, but we\n\t// don't have access to the vnode that triggered it here. As a\n\t// compromise and to avoid flooding the console with warnings we\n\t// print each deprecation warning only once.\n\tconst warn = (property, message) => ({\n\t\tget() {\n\t\t\tconst key = 'get' + property + message;\n\t\t\tif (deprecations && deprecations.indexOf(key) < 0) {\n\t\t\t\tdeprecations.push(key);\n\t\t\t\tconsole.warn(`getting vnode.${property} is deprecated, ${message}`);\n\t\t\t}\n\t\t},\n\t\tset() {\n\t\t\tconst key = 'set' + property + message;\n\t\t\tif (deprecations && deprecations.indexOf(key) < 0) {\n\t\t\t\tdeprecations.push(key);\n\t\t\t\tconsole.warn(`setting vnode.${property} is not allowed, ${message}`);\n\t\t\t}\n\t\t}\n\t});\n\n\tconst deprecatedAttributes = {\n\t\tnodeName: warn('nodeName', 'use vnode.type'),\n\t\tattributes: warn('attributes', 'use vnode.props'),\n\t\tchildren: warn('children', 'use vnode.props.children')\n\t};\n\n\tconst deprecatedProto = Object.create({}, deprecatedAttributes);\n\n\toptions.vnode = vnode => {\n\t\tconst props = vnode.props;\n\t\tif (\n\t\t\tvnode.type !== null &&\n\t\t\tprops != null &&\n\t\t\t('__source' in props || '__self' in props)\n\t\t) {\n\t\t\tconst newProps = (vnode.props = {});\n\t\t\tfor (let i in props) {\n\t\t\t\tconst v = props[i];\n\t\t\t\tif (i === '__source') vnode.__source = v;\n\t\t\t\telse if (i === '__self') vnode.__self = v;\n\t\t\t\telse newProps[i] = v;\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line\n\t\tvnode.__proto__ = deprecatedProto;\n\t\tif (oldVnode) oldVnode(vnode);\n\t};\n\n\toptions.diffed = vnode => {\n\t\tconst { type, _parent: parent } = vnode;\n\t\t// Check if the user passed plain objects as children. Note that we cannot\n\t\t// move this check into `options.vnode` because components can receive\n\t\t// children in any shape they want (e.g.\n\t\t// `<MyJSONFormatter>{{ foo: 123, bar: \"abc\" }}</MyJSONFormatter>`).\n\t\t// Putting this check in `options.diffed` ensures that\n\t\t// `vnode._children` is set and that we only validate the children\n\t\t// that were actually rendered.\n\t\tif (vnode._children) {\n\t\t\tvnode._children.forEach(child => {\n\t\t\t\tif (typeof child === 'object' && child && child.type === undefined) {\n\t\t\t\t\tconst keys = Object.keys(child).join(',');\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Objects are not valid as a child. Encountered an object with the keys {${keys}}.` +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (vnode._component === currentComponent) {\n\t\t\trenderCount = 0;\n\t\t}\n\n\t\tif (\n\t\t\ttypeof type === 'string' &&\n\t\t\t(isTableElement(type) ||\n\t\t\t\ttype === 'p' ||\n\t\t\t\ttype === 'a' ||\n\t\t\t\ttype === 'button')\n\t\t) {\n\t\t\t// Avoid false positives when Preact only partially rendered the\n\t\t\t// HTML tree. Whilst we attempt to include the outer DOM in our\n\t\t\t// validation, this wouldn't work on the server for\n\t\t\t// `preact-render-to-string`. There we'd otherwise flood the terminal\n\t\t\t// with false positives, which we'd like to avoid.\n\t\t\tlet domParentName = getClosestDomNodeParentName(parent);\n\t\t\tif (domParentName !== '') {\n\t\t\t\tif (\n\t\t\t\t\ttype === 'table' &&\n\t\t\t\t\t// Tables can be nested inside each other if it's inside a cell.\n\t\t\t\t\t// See https://developer.mozilla.org/en-US/docs/Learn/HTML/Tables/Advanced#nesting_tables\n\t\t\t\t\tdomParentName !== 'td' &&\n\t\t\t\t\tisTableElement(domParentName)\n\t\t\t\t) {\n\t\t\t\t\tconsole.log(domParentName, parent._dom);\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Improper nesting of table. Your <table> should not have a table-node parent.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t} else if (\n\t\t\t\t\t(type === 'thead' || type === 'tfoot' || type === 'tbody') &&\n\t\t\t\t\tdomParentName !== 'table'\n\t\t\t\t) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t} else if (\n\t\t\t\t\ttype === 'tr' &&\n\t\t\t\t\tdomParentName !== 'thead' &&\n\t\t\t\t\tdomParentName !== 'tfoot' &&\n\t\t\t\t\tdomParentName !== 'tbody'\n\t\t\t\t) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot> parent.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t} else if (type === 'td' && domParentName !== 'tr') {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Improper nesting of table. Your <td> should have a <tr> parent.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t} else if (type === 'th' && domParentName !== 'tr') {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Improper nesting of table. Your <th> should have a <tr>.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (type === 'p') {\n\t\t\t\tlet illegalDomChildrenTypes = getDomChildren(vnode).filter(childType =>\n\t\t\t\t\tILLEGAL_PARAGRAPH_CHILD_ELEMENTS.test(childType)\n\t\t\t\t);\n\t\t\t\tif (illegalDomChildrenTypes.length) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Improper nesting of paragraph. Your <p> should not have ' +\n\t\t\t\t\t\t\tillegalDomChildrenTypes.join(', ') +\n\t\t\t\t\t\t\t'as child-elements.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (type === 'a' || type === 'button') {\n\t\t\t\tif (getDomChildren(vnode).indexOf(type) !== -1) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t`Improper nesting of interactive content. Your <${type}>` +\n\t\t\t\t\t\t\t` should not have other ${type === 'a' ? 'anchor' : 'button'}` +\n\t\t\t\t\t\t\t' tags as child-elements.' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\thooksAllowed = false;\n\n\t\tif (oldDiffed) oldDiffed(vnode);\n\n\t\tif (vnode._children != null) {\n\t\t\tconst keys = [];\n\t\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\t\tconst child = vnode._children[i];\n\t\t\t\tif (!child || child.key == null) continue;\n\n\t\t\t\tconst key = child.key;\n\t\t\t\tif (keys.indexOf(key) !== -1) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Following component has two or more children with the ' +\n\t\t\t\t\t\t\t`same key attribute: \"${key}\". This may cause glitches and misbehavior ` +\n\t\t\t\t\t\t\t'in rendering process. Component: \\n\\n' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\n\t\t\t\t\t// Break early to not spam the console\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tkeys.push(key);\n\t\t\t}\n\t\t}\n\n\t\tif (vnode._component != null && vnode._component.__hooks != null) {\n\t\t\t// Validate that none of the hooks in this component contain arguments that are NaN.\n\t\t\t// This is a common mistake that can be hard to debug, so we want to catch it early.\n\t\t\tconst hooks = vnode._component.__hooks._list;\n\t\t\tif (hooks) {\n\t\t\t\tfor (let i = 0; i < hooks.length; i += 1) {\n\t\t\t\t\tconst hook = hooks[i];\n\t\t\t\t\tif (hook._args) {\n\t\t\t\t\t\tfor (let j = 0; j < hook._args.length; j++) {\n\t\t\t\t\t\t\tconst arg = hook._args[j];\n\t\t\t\t\t\t\tif (isNaN(arg)) {\n\t\t\t\t\t\t\t\tconst componentName = getDisplayName(vnode);\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t`Invalid argument passed to hook. Hooks should not be called with NaN in the dependency array. Hook index ${i} in component ${componentName} was called with NaN.`\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst setState = Component.prototype.setState;\nComponent.prototype.setState = function (update, callback) {\n\tif (this._vnode == null) {\n\t\t// `this._vnode` will be `null` during componentWillMount. But it\n\t\t// is perfectly valid to call `setState` during cWM. So we\n\t\t// need an additional check to verify that we are dealing with a\n\t\t// call inside constructor.\n\t\tif (this.state == null) {\n\t\t\tconsole.warn(\n\t\t\t\t`Calling \"this.setState\" inside the constructor of a component is a ` +\n\t\t\t\t\t`no-op and might be a bug in your application. Instead, set ` +\n\t\t\t\t\t`\"this.state = {}\" directly.\\n\\n${getOwnerStack(getCurrentVNode())}`\n\t\t\t);\n\t\t}\n\t}\n\n\treturn setState.call(this, update, callback);\n};\n\nfunction isTableElement(type) {\n\treturn (\n\t\ttype === 'table' ||\n\t\ttype === 'tfoot' ||\n\t\ttype === 'tbody' ||\n\t\ttype === 'thead' ||\n\t\ttype === 'td' ||\n\t\ttype === 'tr' ||\n\t\ttype === 'th'\n\t);\n}\n\nconst ILLEGAL_PARAGRAPH_CHILD_ELEMENTS =\n\t/^(address|article|aside|blockquote|details|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|main|menu|nav|ol|p|pre|search|section|table|ul)$/;\n\nconst forceUpdate = Component.prototype.forceUpdate;\nComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode == null) {\n\t\tconsole.warn(\n\t\t\t`Calling \"this.forceUpdate\" inside the constructor of a component is a ` +\n\t\t\t\t`no-op and might be a bug in your application.\\n\\n${getOwnerStack(\n\t\t\t\t\tgetCurrentVNode()\n\t\t\t\t)}`\n\t\t);\n\t} else if (this._parentDom == null) {\n\t\tconsole.warn(\n\t\t\t`Can't call \"this.forceUpdate\" on an unmounted component. This is a no-op, ` +\n\t\t\t\t`but it indicates a memory leak in your application. To fix, cancel all ` +\n\t\t\t\t`subscriptions and asynchronous tasks in the componentWillUnmount method.` +\n\t\t\t\t`\\n\\n${getOwnerStack(this._vnode)}`\n\t\t);\n\t}\n\treturn forceUpdate.call(this, callback);\n};\n\n/**\n * Serialize a vnode tree to a string\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function serializeVNode(vnode) {\n\tlet { props } = vnode;\n\tlet name = getDisplayName(vnode);\n\n\tlet attrs = '';\n\tfor (let prop in props) {\n\t\tif (props.hasOwnProperty(prop) && prop !== 'children') {\n\t\t\tlet value = props[prop];\n\n\t\t\t// If it is an object but doesn't have toString(), use Object.toString\n\t\t\tif (typeof value == 'function') {\n\t\t\t\tvalue = `function ${value.displayName || value.name}() {}`;\n\t\t\t}\n\n\t\t\tvalue =\n\t\t\t\tObject(value) === value && !value.toString\n\t\t\t\t\t? Object.prototype.toString.call(value)\n\t\t\t\t\t: value + '';\n\n\t\t\tattrs += ` ${prop}=${JSON.stringify(value)}`;\n\t\t}\n\t}\n\n\tlet children = props.children;\n\treturn `<${name}${attrs}${\n\t\tchildren && children.length ? '>..</' + name + '>' : ' />'\n\t}`;\n}\n", "export const ELEMENT_NODE = 1;\nexport const DOCUMENT_NODE = 9;\nexport const DOCUMENT_FRAGMENT_NODE = 11;\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\nexport function isNaN(value) {\n\treturn value !== value;\n}\n", "import { initDebug } from './debug';\nimport 'preact/devtools';\n\ninitDebug();\n\nexport { resetPropWarnings } from './check-props';\n", "import { options as _options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\n// Cast to use internal Options type\nconst options = /** @type {import('./internal').Options} */ (_options);\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\nlet oldRoot = options._root;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._root = (vnode, parentDom) => {\n\tif (vnode && parentDom._children && parentDom._children._mask) {\n\t\tvnode._mask = parentDom._children._mask;\n\t}\n\n\tif (oldRoot) oldRoot(vnode, parentDom);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\n// TODO: Improve typing of commitQueue parameter\n/** @type {(vnode: import('./internal').VNode, commitQueue: any) => void} */\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\n\treturn hooks._list[index];\n}\n\n/**\n * @template {unknown} S\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} [initialState]\n * @returns {[S, (state: S) => void]}\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @template {unknown} S\n * @template {unknown} A\n * @param {import('./index').Reducer<S, A>} reducer\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ S, (state: S) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\t/** @type {(x: import('./internal').HookState) => x is import('./internal').ReducerHookState} */\n\t\t\t\tconst isStateHook = x => !!x._component;\n\t\t\t\tconst stateHooks =\n\t\t\t\t\thookState._component.__hooks._list.filter(isStateHook);\n\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\n/** @type {(initialValue: unknown) => unknown} */\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @template {unknown} T\n * @param {() => T} factory\n * @param {unknown[]} args\n * @returns {T}\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState<T>} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {unknown[]} args\n * @returns {() => void}\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(\n\t\t\tformatter ? formatter(value) : /** @type {any}*/ (value)\n\t\t);\n\t}\n}\n\n/**\n * @param {(error: unknown, errorInfo: import('preact').ErrorInfo) => void} cb\n * @returns {[unknown, () => void]}\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/** @type {() => string} */\nexport function useId() {\n\t/** @type {import('./internal').IdHookState} */\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n * @returns {void}\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').HookState} hook\n * @returns {void}\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n * @returns {void}\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {unknown[]} oldArgs\n * @param {unknown[]} newArgs\n * @returns {boolean}\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\n/**\n * @template Arg\n * @param {Arg} arg\n * @param {(arg: Arg) => any} f\n * @returns {any}\n */\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "/**\n * A vertext id format is a string with format: `type+id`.\n *\n * Examples: `pl+python`, `person+guido`, `paradigm+oop`, etc.\n *\n * See {@link PVIDAny} for the matching pattern.\n */\nexport type VID<T extends string> = `${T}+${string}`;\n\n/**\n * An alias such that we can say: VID<Any> to match any vertex id.\n */\nexport type Any = string;\n\n/**\n * An alias for the most generic vertex id.\n */\nexport type VID_Any = VID<Any>;\n\nconst NON_PLUS_ID_CHARS = \"[a-z-0-9\\\\-\\\\(\\\\)\\\\[\\\\]_.]+$\";\nconst NON_PLUS_ID_PATTERN = new RegExp(NON_PLUS_ID_CHARS);\n\nexport function validChars(s: string): boolean {\n  return NON_PLUS_ID_PATTERN.test(s);\n}\n\nexport function isAnyVID(s: string): s is VID<Any> {\n  const parts = s.split(\"+\");\n  return parts.length === 2 && validChars(parts[0]) && validChars(parts[1]);\n}\n\nexport function vIDPattern(vtype: string): RegExp {\n  if (!validChars(vtype)) throw new Error(`'${vtype}' is not valid as a vid prefix.`);\n  return new RegExp(`^${vtype}\\\\+${NON_PLUS_ID_CHARS}`);\n}\n", "import { validChars } from \"./vertex\";\nimport type { VertexTable } from \"./vertex_table\";\n\n/** Extract the components off of an edge key. */\nexport function parseEdgeKey(eid: string): { type: string; from: string; to: string } {\n  const parts = eid.split(\"~\");\n  return { type: parts[0], from: parts[1], to: parts[2] };\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: We don't care what kind of data the vertices have.\ntype _T_Any_V_Data = any;\n\n/**\n * Stores edges between vertices.\n */\nexport class EdgeTable<VID_From extends string, VID_To extends string, T_EdgeData>\n  implements Iterable<[string, T_EdgeData]>\n{\n  readonly #edge: Map<string, T_EdgeData> = new Map();\n\n  readonly #adjFrom: Map<string, Set<string>> = new Map();\n  readonly #adjTo: Map<string, Set<string>> = new Map();\n\n  constructor(\n    public readonly type: string,\n    public readonly fromTable: VertexTable<VID_From, _T_Any_V_Data>,\n    public readonly toTable: VertexTable<VID_To, _T_Any_V_Data>,\n  ) {\n    if (!validChars(type)) throw new Error(`'${type}' is not valid as an edge type.`);\n  }\n\n  /**\n   * A single graph should not use two edge tables with the same key,\n   * otherwise there could be edges with duplicate keys.\n   */\n  get tableKey(): string {\n    const t = this.type;\n    const from = this.fromTable.vtype;\n    const to = this.toTable.vtype;\n    return `${t}~${from}~${to}`;\n  }\n\n  set(from: VID_From, to: VID_To, value: T_EdgeData): this {\n    const kft = this.#edgeKey(from, to);\n    this.#edge.set(kft, value);\n    this.#updateAdjacent(from, to, \"add\");\n    return this;\n  }\n\n  get(from: VID_From, to: VID_To): T_EdgeData | undefined {\n    if (!this.validParams(from, to)) throw new Error(`Invalid id(s) in edge: ${from} -> ${to}.`);\n    return this.#edge.get(this.#edgeKey(from, to));\n  }\n\n  has(from: VID_From, to: VID_To): boolean {\n    if (!this.validParams(from, to)) return false;\n    return this.#edge.has(this.#edgeKey(from, to));\n  }\n\n  delete(from: VID_From, to: VID_To): boolean {\n    this.#updateAdjacent(from, to, \"delete\");\n    return this.#edge.delete(this.#edgeKey(from, to));\n  }\n\n  /** Connect without setting any edge data. */\n  connect(from: VID_From, to: VID_To): Partial<T_EdgeData> {\n    const key = this.#edgeKey(from, to);\n    let edata = this.#edge.get(key);\n    if (!edata) {\n      this.#edge.set(key, (edata = {} as T_EdgeData));\n    }\n    this.#updateAdjacent(from, to, \"add\");\n    return edata as Partial<T_EdgeData>;\n  }\n\n  merge(from: VID_From, to: VID_To, value: Partial<T_EdgeData>): Partial<T_EdgeData> {\n    const key = this.#edgeKey(from, to);\n    this.#updateAdjacent(from, to, \"add\");\n\n    if (!this.#edge.has(key)) {\n      this.#edge.set(key, value as T_EdgeData);\n      return value;\n    }\n\n    const existing = this.#edge.get(key) as Partial<T_EdgeData>;\n    Object.assign(existing, value);\n    return existing;\n  }\n\n  validParams(from: VID_From, to: VID_To): boolean {\n    return this.fromTable.validParams(from) && this.toTable.validParams(to);\n  }\n\n  #edgeKey(from: string, to: string): string {\n    return `${from}~${to}`;\n  }\n\n  /** Yields keys parseable with {@link parseEdgeKey} and the data of the edge. */\n  *[Symbol.iterator](): IterableIterator<[string, T_EdgeData]> {\n    for (const [key, edge] of this.#edge) {\n      yield [`${this.type}~${key}`, edge];\n    }\n  }\n\n  #updateAdjacent(from: VID_From, to: VID_To, operation: \"add\" | \"delete\") {\n    if (!this.validParams(from, to)) throw new Error(`Invalid id(s) in edge: ${from} -> ${to}`);\n\n    if (!this.#adjFrom.has(from)) this.#adjFrom.set(from, new Set());\n    if (!this.#adjTo.has(to)) this.#adjTo.set(to, new Set());\n\n    if (operation === \"add\") {\n      this.#adjFrom.get(from)?.add(to);\n      this.#adjTo.get(to)?.add(from);\n    } else {\n      this.#adjFrom.get(from)?.delete(to);\n      this.#adjTo.get(to)?.delete(from);\n    }\n  }\n\n  /** Number of edges. */\n  public get size(): number {\n    return this.#edge.size;\n  }\n\n  adjacentFrom(from: VID_From): Set<VID_To> {\n    return (this.#adjFrom.get(from) ?? new Set()) as Set<VID_To>;\n  }\n\n  adjacentTo(to: VID_To): Set<VID_From> {\n    return (this.#adjTo.get(to) ?? new Set()) as Set<VID_From>;\n  }\n\n  toJSON(): Record<string, T_EdgeData> {\n    const result: Record<string, T_EdgeData> = {};\n    for (const [key, value] of this.#edge.entries()) {\n      result[key] = value;\n    }\n    return result;\n  }\n\n  loadJSON(edata: Record<string, T_EdgeData>) {\n    for (const [kft, value] of Object.entries(edata)) {\n      const [from, to] = kft.split(\"~\");\n      this.#updateAdjacent(from as VID_From, to as VID_To, \"add\");\n      this.#edge.set(kft, value);\n    }\n  }\n}\n", "import type { NN_Partial } from \"../util\";\nimport { vIDPattern } from \"./vertex\";\n\n/**\n * Containers for vertices.\n */\nexport class VertexTable<T_VID extends string, T_VData> implements Iterable<[T_VID, T_VData]> {\n  #vdata = new Map<T_VID, T_VData>();\n\n  public readonly vidPattern: RegExp;\n\n  constructor(readonly vtype: string) {\n    this.vidPattern = vIDPattern(vtype);\n  }\n\n  set(key: T_VID, value: T_VData): this {\n    if (!this.validParams(key)) throw new Error(`invalid key: ${key} (pattern: ${this.vidPattern})`);\n    this.#vdata.set(key, value);\n    return this;\n  }\n\n  get(key: T_VID): T_VData | undefined {\n    if (!this.validParams(key)) throw new Error(`invalid key: ${key}`);\n    return this.#vdata.get(key);\n  }\n\n  has(key: T_VID): boolean {\n    if (!this.validParams(key)) throw new Error(`invalid key: ${key}`);\n    return this.#vdata.has(key);\n  }\n\n  delete(key: T_VID): boolean {\n    if (!this.validParams(key)) throw new Error(`invalid key: ${key}`);\n    return this.#vdata.delete(key);\n  }\n\n  /**\n   * Declares there's an entry for the key:\n   * - If the key is already in store, it will be left unchanged.\n   * - If the key is not in store, it will be set to an empty object.\n   * - Returns the data for the key.\n   */\n  declare(key: T_VID): NN_Partial<T_VData> {\n    if (!this.validParams(key)) throw new Error(`invalid key: ${key}`);\n    let v_data = this.#vdata.get(key);\n    if (v_data === undefined) {\n      v_data = {} as T_VData;\n      this.#vdata.set(key, v_data);\n    }\n    return v_data as NN_Partial<T_VData>;\n  }\n\n  merge(key: T_VID, value: T_VData): NN_Partial<T_VData> {\n    if (!this.validParams(key)) throw new Error(`invalid key: ${key}`);\n\n    if (!this.#vdata.has(key)) {\n      this.#vdata.set(key, {} as T_VData);\n    }\n    // biome-ignore lint/suspicious/noExplicitAny: it is ok.\n    const vdata = Object.assign(this.#vdata.get(key) as any, value);\n\n    return vdata as NN_Partial<T_VData>;\n  }\n\n  validParams(vid: string): boolean {\n    return this.vidPattern.test(vid);\n  }\n\n  keys(): IterableIterator<T_VID> {\n    return this.#vdata.keys();\n  }\n\n  [Symbol.iterator](): IterableIterator<[T_VID, T_VData]> {\n    return this.#vdata.entries();\n  }\n\n  toJSON(): Record<string, T_VData> {\n    const vdata: Record<string, T_VData> = {};\n    for (const [vid, data] of this.#vdata) {\n      vdata[vid] = data;\n    }\n    return vdata;\n  }\n\n  loadJSON(vdata: Record<string, T_VData>) {\n    for (const [vid, data] of Object.entries(vdata).sort()) {\n      this.set(vid as T_VID, data);\n    }\n  }\n\n  /** Number of vertices. */\n  public get size(): number {\n    return this.#vdata.size;\n  }\n}\n", "import { EdgeTable } from \"./edge_table\";\nimport { VertexTable } from \"./vertex_table\";\n\n// biome-ignore lint/suspicious/noExplicitAny: We need to store any kind vertex or edge.\ntype _Any = any;\n\ntype SerializedGraph = {\n  vtables: Record<string, _Any>;\n  etables: Record<string, _Any>;\n};\n\n/**\n * A Graph consists of set of Vertices and Edges.\n */\nexport class Graph {\n  readonly vtables: Map<string, VertexTable<_Any, _Any>> = new Map();\n  readonly etables: Map<string, EdgeTable<_Any, _Any, _Any>> = new Map();\n\n  protected v_table<T_VData, T_VId extends string>(type: string): VertexTable<T_VId, T_VData> {\n    const table = new VertexTable<T_VId, T_VData>(type);\n    if (this.vtables.has(type)) throw new Error(`Table already defined: ${table.vtype}`);\n    this.vtables.set(table.vtype, table);\n    return table;\n  }\n\n  protected e_table<T_EdgeData, T_VId_From extends string, T_VId_To extends string>(\n    type: string,\n    from: VertexTable<T_VId_From, _Any>,\n    to: VertexTable<T_VId_To, _Any>,\n  ): EdgeTable<T_VId_From, T_VId_To, T_EdgeData> {\n    if (type.length === 0) throw new Error(\"Type cannot be empty.\");\n    const table = new EdgeTable<T_VId_From, T_VId_To, _Any>(type, from, to);\n    if (this.etables.has(table.tableKey)) throw new Error(`Table already defined: ${table.tableKey}`);\n    this.etables.set(table.tableKey, table);\n    return table;\n  }\n\n  get numEdges(): number {\n    let count = 0;\n    for (const et of this.etables.values()) {\n      count += et.size;\n    }\n    return count;\n  }\n\n  get numVertices(): number {\n    let count = 0;\n    for (const vt of this.vtables.values()) {\n      count += vt.size;\n    }\n    return count;\n  }\n\n  *allVertices(): IterableIterator<[string, _Any]> {\n    for (const vt of this.vtables.values()) {\n      yield* vt;\n    }\n  }\n\n  *allEdges(): IterableIterator<[string, _Any]> {\n    for (const et of this.etables.values()) {\n      yield* et;\n    }\n  }\n\n  toJSON(): SerializedGraph {\n    const graph = { vtables: {}, etables: {} };\n\n    for (const [key, val] of this.vtables) {\n      console.log(\"Serializing vertex table:\", key);\n      graph.vtables[key] = val.toJSON();\n    }\n\n    for (const [key, val] of this.etables) {\n      console.log(\"Serializing edge table:\", key);\n      graph.etables[key] = val.toJSON();\n    }\n\n    return graph;\n  }\n\n  loadJSON(data: SerializedGraph) {\n    for (const [vtype, vdata] of Object.entries(data.vtables)) {\n      const vt = this.vtables.get(vtype);\n      if (!vt) throw new Error(`Vertex table not found: ${vtype}`);\n      vt.loadJSON(vdata);\n    }\n\n    for (const [etype, edata] of Object.entries(data.etables)) {\n      const et = this.etables.get(etype);\n      if (!et) throw new Error(`Edge table not found: ${etype}`);\n      et.loadJSON(edata);\n    }\n  }\n}\n", "/**\n * Type assertion for {@link RegExp}\n */\nexport function isRegExp(val: unknown): val is RegExp {\n  return Object.prototype.toString.call(val) === \"[object RegExp]\";\n}\n\n/**\n * Convert the string to something usable as vertex id.\n */\nexport function toAlphaNum(s: string) {\n  // biome-ignore format: it's artisanally formatted :-p.\n  let result = s\n    .trim()\n    .toLowerCase()\n    .normalize(\"NFD\")\n    // biome-ignore lint/suspicious/noMisleadingCharacterClass: removes accents/diacritics.\n    .replaceAll(/[\\u0300-\\u036f]/g, \"\");\n\n  if (result.startsWith(\"*\")) result = `star-${result.slice(1)}`;\n  if (result.startsWith(\"+\")) result = `p${result.slice(1)}`;\n\n  result = result\n    .replaceAll(\" \", \"-\")\n    .replaceAll(/\\s+/g, \" \")\n    .replaceAll(/_/g, \"-\")\n    .replaceAll(/\\-\\-+/g, \"-\")\n\n    .split(/[\\*]/g)\n    .join(\"-star\")\n    .split(/\\#/g)\n    .join(\"-sharp\")\n    .split(/\\+/g)\n    .join(\"p\")\n    .split(/\\//g)\n    .join(\"-slash\")\n    .split(/\\\\/g)\n    .join(\"-backslash\")\n\n    .replaceAll(/[\\/\\:]/g, \"-\")\n    .replaceAll(/[^a-zA-Z0-9\\.\\(\\)\\[\\]_\\-]/g, \"-\");\n\n  return result;\n}\n\n/**\n * Return a caller `line:no` for debugging.\n * @param match find the first line in the backtrace that contains this string.\n * @param dontMatch if given, the line in the backtrace must not contain this string.\n */\nexport function caller(match: string, dontMatch = \"\"): string {\n  // https://stackoverflow.com/a/3806596/855105\n  function getErrorObject() {\n    try {\n      throw Error(\"\");\n    } catch (err) {\n      return err;\n    }\n  }\n  const err = getErrorObject();\n\n  const caller_line = err.stack\n    .split(\"\\n\")\n    .find((line: string) => line.includes(match) && (!dontMatch || !line.includes(dontMatch)));\n\n  if (!caller_line) return \"unknown\";\n  const index = caller_line.indexOf(\"at \");\n  const clean = caller_line.slice(index + 2, caller_line.length);\n  return clean.trim();\n}\n\n/**\n * True if obj:\n * - is number\n * - is non blank string\n * - is non empty array\n * - obj has any key where obj[key] is truthy.\n */\n// biome-ignore lint/suspicious/noExplicitAny: Can test any object.\nexport function blank(obj: any): boolean {\n  if (typeof obj === \"number\") return false;\n  if (typeof obj === \"string\") return !obj.trim();\n  if (Array.isArray(obj)) return obj.length === 0;\n\n  for (const key of Object.getOwnPropertyNames(obj)) {\n    if (!blank(obj[key])) return false;\n  }\n\n  return true;\n}\n\n/** (Shallow) Remove keys from object which are blank or empty arrays, sorts arrays. */\n// biome-ignore lint/suspicious/noExplicitAny: Can tidy any object.\nexport function tidy(data: any): any {\n  for (const [key, val] of Object.entries(data)) {\n    if (Array.isArray(val)) {\n      if (val.length === 0) delete data[key];\n      else val.sort();\n    } else if (blank(val)) delete data[key];\n  }\n  return data;\n}\n\n/**\n * We use arrays as we want plain old JS data in vertices,\n * but sometimes we want the arrays to act like sets.\n */\nexport function arrayMerge<T>(\n  target: T[],\n  newData: T[],\n  similar: (l1: T, l2: T) => boolean,\n  onDuplicate: (prevElem: T, newElem: T) => void,\n) {\n  for (const newElem of newData) {\n    const prevElem = target.find((elem: T) => similar(elem, newElem));\n    if (prevElem) {\n      onDuplicate(prevElem, newElem);\n    } else {\n      target.push(newElem);\n    }\n  }\n}\n\nexport function toggle<T>(target: Set<T>, item: T): Set<T> {\n  target.has(item) ? target.delete(item) : target.add(item);\n  return target;\n}\n\nexport function addAll<T>(target: { add(elem: T): void }, values: Iterable<T>): typeof target {\n  for (const elem of values) target.add(elem);\n  return target;\n}\n\nexport function hasAll<T>(container: { has(elem: T): boolean }, values: Iterable<T>): boolean {\n  for (const v of values) if (!container.has(v)) return false;\n  return true;\n}\n\nexport function hasAny<T>(container: { has(elem: T): boolean }, values: Iterable<T>): boolean {\n  for (const v of values) if (container.has(v)) return true;\n  return false;\n}\n", "import { arrayMerge, caller } from \"../util\";\nimport type { PlangsGraph } from \"./graph\";\nimport type {\n  E_DialectOf,\n  E_HasLicense,\n  E_Implements,\n  E_LInfluencedL,\n  E_PersonPlang,\n  E_PlangPara,\n  E_PlangTsys,\n  E_SupportsPlatf,\n  Image,\n  Link,\n  Release,\n  Scoping,\n  VID_License,\n  VID_Paradigm,\n  VID_Person,\n  VID_Plang,\n  VID_Platform,\n  VID_TypeSystem,\n  V_Base,\n  V_License,\n  V_Paradigm,\n  V_Person,\n  V_Plang,\n  V_Platform,\n  V_TypeSystem,\n} from \"./entities\";\n\nexport class PlangBuilder {\n  constructor(\n    readonly g: PlangsGraph,\n    readonly vid: VID_Plang,\n  ) {\n    g.v_plang.declare(vid);\n  }\n\n  merge(data: Partial<V_Plang>): this {\n    const prev = { ...this.g.v_plang.get(this.vid) }; // Save a _copy_ before merging.\n    const upd = this.g.v_plang.merge(this.vid, data);\n\n    mergeExtensions(upd, prev);\n    mergeImages(upd, prev);\n    mergeReleases(upd, prev);\n    mergeScoping(upd, prev);\n    mergeWebsites(upd, prev);\n\n    return this;\n  }\n\n  addDialect(other: VID_Plang, data: Partial<E_DialectOf>): this {\n    this.g.e_dialect_of.merge(other, this.vid, data);\n    return this;\n  }\n\n  addDialects(others: VID_Plang[]): this {\n    for (const other of others) this.g.e_dialect_of.connect(other, this.vid);\n    return this;\n  }\n\n  addImplementation(other: VID_Plang, data: Partial<E_Implements>): this {\n    this.g.e_implements.merge(other, this.vid, data);\n    return this;\n  }\n\n  addImplementations(others: VID_Plang[]): this {\n    for (const other of others) this.g.e_implements.connect(other, this.vid);\n    return this;\n  }\n\n  addInfluence(other: VID_Plang, data: Partial<E_LInfluencedL>): this {\n    this.g.e_l_influenced_l.merge(other, this.vid, data);\n    return this;\n  }\n\n  addInfluences(others: VID_Plang[]): this {\n    for (const other of others) this.g.e_l_influenced_l.connect(other, this.vid);\n    return this;\n  }\n\n  addLicense(other: VID_License, data: Partial<E_HasLicense>): this {\n    this.g.e_has_license.merge(this.vid, other, data);\n    return this;\n  }\n\n  addLicenses(others: VID_License[]): this {\n    for (const other of others ?? []) this.g.e_has_license.connect(this.vid, other);\n    return this;\n  }\n\n  addParadigm(other: VID_Paradigm, data: Partial<E_PlangPara>): this {\n    this.g.e_plang_para.merge(this.vid, other, data);\n    return this;\n  }\n\n  addParadigms(others: VID_Paradigm[]): this {\n    for (const otherVid of others ?? []) this.g.e_plang_para.connect(this.vid, otherVid);\n    return this;\n  }\n\n  addPerson(other: VID_Person, data: Partial<E_PersonPlang>): this {\n    this.g.e_person_plang.merge(other, this.vid, data);\n    return this;\n  }\n\n  addPeople(others: VID_Person[]): this {\n    for (const other of others ?? []) this.g.e_person_plang.connect(other, this.vid);\n    return this;\n  }\n\n  addPlatform(other: VID_Platform, data: Partial<E_SupportsPlatf>): this {\n    this.g.e_supports_platf.merge(this.vid, other, data);\n    return this;\n  }\n\n  addPlatforms(others: VID_Platform[]): this {\n    for (const other of others) this.g.e_supports_platf.connect(this.vid, other);\n    return this;\n  }\n\n  addTypeSystem(other: VID_TypeSystem, data: Partial<E_PlangTsys>): this {\n    this.g.e_plang_tsys.merge(this.vid, other, data);\n    return this;\n  }\n\n  addTypeSystems(others: VID_TypeSystem[]): this {\n    for (const other of others ?? []) this.g.e_plang_tsys.connect(this.vid, other);\n    return this;\n  }\n}\n\nexport class LicenseBuilder {\n  constructor(\n    readonly g: PlangsGraph,\n    readonly vid: VID_License,\n  ) {\n    g.v_license.declare(this.vid);\n  }\n\n  merge(data: Partial<V_License>): this {\n    const prev = { ...this.g.v_license.get(this.vid) };\n    const upd = this.g.v_license.merge(this.vid, data);\n    mergeWebsites(upd, prev);\n    return this;\n  }\n}\n\nexport class ParadigmBuilder {\n  constructor(\n    readonly g: PlangsGraph,\n    readonly vid: VID_Paradigm,\n  ) {\n    g.v_paradigm.declare(this.vid);\n  }\n\n  merge(data: Partial<V_Paradigm>): this {\n    const prev = { ...this.g.v_paradigm.get(this.vid) };\n    const upd = this.g.v_paradigm.merge(this.vid, data);\n    mergeWebsites(upd, prev);\n    return this;\n  }\n}\n\nexport class PersonBuilder {\n  constructor(\n    readonly g: PlangsGraph,\n    readonly vid: VID_Person,\n  ) {\n    g.v_person.declare(this.vid);\n  }\n\n  merge(data: Partial<V_Person>): this {\n    const prev = { ...this.g.v_person.get(this.vid) };\n    const upd = this.g.v_person.merge(this.vid, data);\n    mergeWebsites(upd, prev);\n    return this;\n  }\n}\n\nexport class PlatformBuilder {\n  constructor(\n    readonly g: PlangsGraph,\n    readonly vid: VID_Platform,\n  ) {\n    g.v_platform.declare(this.vid);\n  }\n\n  merge(data: Partial<V_Platform>): this {\n    const prev = { ...this.g.v_platform.get(this.vid) };\n    const upd = this.g.v_platform.merge(this.vid, data);\n    mergeWebsites(upd, prev);\n    return this;\n  }\n}\n\nexport class TypeSysBuilder {\n  constructor(\n    readonly g: PlangsGraph,\n    readonly vid: VID_TypeSystem,\n  ) {\n    g.v_tsystem.declare(this.vid);\n  }\n\n  merge(data: Partial<V_TypeSystem>): this {\n    const prev = { ...this.g.v_tsystem.get(this.vid) };\n    const upd = this.g.v_tsystem.merge(this.vid, data);\n    mergeWebsites(upd, prev);\n    return this;\n  }\n}\n\n//--------------------------------------------------------------------------------\n\nconst _CALLER_PATTERN = \"definitions\";\n\ntype Attr<T, Key extends keyof T> = Partial<Pick<T, Key>>;\n\nfunction mergeWebsites(target: Attr<V_Base, \"websites\">, newData: Attr<V_Base, \"websites\">) {\n  if (newData.websites === undefined) return;\n  arrayMerge(\n    (target.websites ??= []),\n    newData.websites,\n    (l1: Link, l2: Link) => l1.href === l2.href,\n    (prevLink: Link, newLink: Link) => {\n      console.warn(`${caller(_CALLER_PATTERN)}: Duplicate Link: ${JSON.stringify({ prevLink, newLink })}`);\n    },\n  );\n}\n\nfunction mergeImages(target: Attr<V_Plang, \"images\">, newData: Attr<V_Plang, \"images\">) {\n  if (newData.images === undefined) return;\n  arrayMerge(\n    (target.images ??= []),\n    newData.images,\n    (img1: Image, img2: Image) => img1.url === img2.url,\n    (prevImage: Image, newImage: Image) => {\n      console.warn(`${caller(_CALLER_PATTERN)}: Duplicate Image: ${JSON.stringify({ prevImage, newImage })}`);\n      prevImage.width ??= newImage.width;\n      prevImage.height ??= newImage.height;\n    },\n  );\n}\n\nfunction mergeReleases(target: Attr<V_Plang, \"releases\">, newData: Attr<V_Plang, \"releases\">) {\n  if (!newData.releases) return;\n  arrayMerge(\n    (target.releases ??= []),\n    newData.releases,\n    (rel1: Release, rel2: Release) => rel1.version === rel2.version && rel1.date === rel2.date,\n    (prevRel: Release, newRel: Release) => {\n      console.warn(`${caller(_CALLER_PATTERN)}: Duplicate Release: ${JSON.stringify({ prevRel, newRel })}`);\n    },\n  );\n}\n\nfunction mergeScoping(target: Attr<V_Plang, \"scoping\">, newData: Attr<V_Plang, \"scoping\">) {\n  if (!newData.scoping) return;\n  arrayMerge(\n    (target.scoping ??= []),\n    newData.scoping,\n    (scope1: Scoping, scope2: Scoping) => scope1 === scope2,\n    (prevScope, newScope) => {\n      console.warn(`${caller(_CALLER_PATTERN)}: Duplicate Scope: ${newScope}`);\n    },\n  );\n}\n\nfunction mergeExtensions(target: Attr<V_Plang, \"extensions\">, newData: Attr<V_Plang, \"extensions\">) {\n  if (newData.extensions === undefined) return;\n  arrayMerge(\n    (target.extensions ??= []),\n    newData.extensions,\n    (ext1, ext2) => ext1 === ext2,\n    (prevExt, newExt) => {\n      console.warn(`${caller(_CALLER_PATTERN)}: Duplicate Extension: ${newExt}`);\n    },\n  );\n}\n", "import { Graph } from \"../graphs/graph\";\nimport {\n  LicenseBuilder,\n  ParadigmBuilder,\n  PersonBuilder,\n  PlangBuilder,\n  PlatformBuilder,\n  TypeSysBuilder,\n} from \"./builders\";\nimport type {\n  E_DialectOf,\n  E_HasLicense,\n  E_Implements,\n  E_LInfluencedL,\n  E_PersonPlang,\n  E_PlangPara,\n  E_PlangTsys,\n  E_SupportsPlatf,\n  VID_License,\n  VID_Paradigm,\n  VID_Person,\n  VID_Plang,\n  VID_Platform,\n  VID_TypeSystem,\n  V_License,\n  V_Paradigm,\n  V_Person,\n  V_Plang,\n  V_Platform,\n  V_TypeSystem,\n} from \"./entities\";\n\n/**\n * Collection of related edge and vertex tables.\n *\n * These repetitive definitions follow some simple conventions,\n * are tightly coupled with the schemas in `schemas.ts`,\n * and could potentially be auto-generated in the future.\n */\n// biome-ignore format: it's artisanally formatted :-p.\nexport class PlangsGraph extends Graph {\n  // Vertex tables.\n  readonly v_license = this.v_table<Partial<V_License>, VID_License>(\"lic\",);\n  readonly v_paradigm = this.v_table<Partial<V_Paradigm>, VID_Paradigm>(\"para\",);\n  readonly v_person = this.v_table<Partial<V_Person>, VID_Person>(\"person\");\n  readonly v_plang = this.v_table<Partial<V_Plang>, VID_Plang>(\"pl\");\n  readonly v_platform = this.v_table<Partial<V_Platform>, VID_Platform>(\"platf\");\n  readonly v_tsystem = this.v_table<Partial<V_TypeSystem>, VID_TypeSystem>(\"tsys\");\n\n  // Edge Tables.\n  readonly e_dialect_of = this.e_table<E_DialectOf, VID_Plang, VID_Plang>(\"dialect-of\", this.v_plang, this.v_plang,);\n  readonly e_has_license = this.e_table<E_HasLicense, VID_Plang, VID_License>(\"has-license\", this.v_plang, this.v_license,);\n  readonly e_implements = this.e_table<E_Implements, VID_Plang, VID_Plang>(\"implements\", this.v_plang, this.v_plang,);\n  readonly e_l_influenced_l = this.e_table<E_LInfluencedL, VID_Plang, VID_Plang>(\"influenced\", this.v_plang, this.v_plang,);\n  readonly e_person_plang = this.e_table<E_PersonPlang, VID_Person, VID_Plang>(\"had-role\", this.v_person, this.v_plang);\n  readonly e_plang_para = this.e_table<E_PlangPara, VID_Plang, VID_Paradigm>(\"paradigm\", this.v_plang, this.v_paradigm,);\n  readonly e_plang_tsys = this.e_table<E_PlangTsys, VID_Plang, VID_TypeSystem>(\"type-system\", this.v_plang, this.v_tsystem);\n  readonly e_supports_platf = this.e_table<E_SupportsPlatf, VID_Plang, VID_Platform>(\"supports-platf\", this.v_plang, this.v_platform);\n\n  // Builders.\n\n  buildLicense(vid: VID_License) { return new LicenseBuilder(this, vid); }\n  buildParadigm(vid: VID_Paradigm) { return new ParadigmBuilder(this, vid); }\n  buildPerson(vid: VID_Person) { return new PersonBuilder(this, vid); }\n  buildPlang(vid: VID_Plang) { return new PlangBuilder(this, vid); }\n  buildPlatform(vid: VID_Platform) { return new PlatformBuilder(this, vid); }\n  buildTypeSystem(vid: VID_TypeSystem) { return new TypeSysBuilder(this, vid); }\n}\n", "import { createContext } from \"preact\";\nimport { PlangsGraph } from \"../../../schemas/graph\";\n\n/**\n * The result of loading a plangs graph: undefined while the graph has not been loaded.\n */\nexport type PlangsContext = PlangsGraph | undefined | \"error\";\n\nexport const Plangs = createContext<PlangsContext>(undefined);\n\nexport async function loadPlangs(): Promise<PlangsContext> {\n  try {\n    const req = await fetch(\"/plangs.json\");\n    const plangData = await req.json();\n\n    const pg = new PlangsGraph();\n\n    pg.loadJSON(plangData);\n    console.log(\"Loaded PlangsGraph:\", pg.numVertices, \"vertices\", pg.numEdges, \"edges\");\n\n    return pg;\n  } catch (e) {\n    console.error(\"Failed to load plangs:\", e);\n    return \"error\";\n  }\n}\n", "import { h, render } from \"preact\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nimport { Plangs, loadPlangs, type PlangsContext } from \"./state/plangs_context\";\n\nfunction ContextWrapper({ children }) {\n  const [pg, setPg] = useState<PlangsContext>();\n  useEffect(() => {\n    if (pg) return;\n    loadPlangs().then((pg) => setPg(pg));\n  });\n  return <Plangs.Provider value={pg}>{children}</Plangs.Provider>;\n}\n\nexport function start(cssId: string, app: h.JSX.Element) {\n  const elem = document.getElementById(cssId);\n  if (!elem) throw new Error(`Element not found: ${cssId}`);\n  render(<ContextWrapper>{app}</ContextWrapper>, elem);\n}\n", "// biome-ignore lint/style/useImportType: h is a function needed for TSX to work.\nimport { h } from \"preact\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nimport { toggle } from \"src/util\";\nimport \"./options.css\";\n\nexport type Filter = {\n  enabled: boolean;\n  filterMode: \"include\" | \"exclude\";\n  valuesMode: \"all-of\" | \"any-of\";\n  values: Set<string>;\n};\n\nexport type OptionsFacetProps = {\n  title: string;\n  options: [string, string][];\n  onChange?: (filter: Filter) => void;\n};\n\nexport function OptionsFacet({ title, options, onChange }: OptionsFacetProps) {\n  const [expanded, setExpanded] = useState(true);\n  const tgExpand = () => setExpanded(!expanded);\n\n  const [filter, setFilter] = useState<Filter>({\n    enabled: true,\n    filterMode: \"include\",\n    valuesMode: \"any-of\",\n    values: new Set(),\n  });\n\n  const tgEnabled = () => setFilter({ ...filter, enabled: !filter.enabled });\n  const tgFilterMode = (mode: Filter[\"filterMode\"]) => setFilter({ ...filter, filterMode: mode });\n  const tgValuesMode = (mode: Filter[\"valuesMode\"]) => setFilter({ ...filter, valuesMode: mode });\n  const tgValue = (id: string) => setFilter({ ...filter, values: toggle(filter.values, id) });\n\n  useEffect(() => {\n    onChange?.(filter);\n  }, [onChange, filter]);\n\n  const input = (label: string, name: string, type: \"radio\" | \"checkbox\", checked: boolean, action: () => void) => (\n    <label>\n      <input\n        {...{ name, type, checked }}\n        onClick={action}\n        onKeyPress={(e) => {\n          if (e.key === \"Enter\" || e.key === \" \") action();\n        }}\n      />\n      {label}\n    </label>\n  );\n\n  const inputs = () => {\n    const out: h.JSX.Element[] = [];\n    out.push(\n      <div style=\"border: 1px solid gray; margin: .25rem; border-radius: .25rem;\">\n        {input(\"Enabled\", \"enabled\", \"radio\", filter.enabled, tgEnabled)}\n        {input(\"Disabled\", \"enabled\", \"radio\", !filter.enabled, tgEnabled)}\n      </div>,\n      <div style=\"border: 1px solid gray; margin: .25rem; border-radius: .25rem;\">\n        {input(\"Include\", \"filterMode\", \"radio\", filter.filterMode === \"include\", () => tgFilterMode(\"include\"))}\n        {input(\"Exclude\", \"filterMode\", \"radio\", filter.filterMode === \"exclude\", () => tgFilterMode(\"exclude\"))}\n      </div>,\n      <div style=\"border: 1px solid gray; margin: .25rem; border-radius: .25rem;\">\n        {input(\"Any of\", \"valuesMode\", \"radio\", filter.valuesMode === \"any-of\", () => tgValuesMode(\"any-of\"))}\n        {input(\"All of\", \"valuesMode\", \"radio\", filter.valuesMode === \"all-of\", () => tgValuesMode(\"all-of\"))}\n      </div>,\n    );\n    for (const [id, name] of options) {\n      out.push(input(name, id, \"checkbox\", filter.values.has(id), () => tgValue(id)));\n    }\n    return out;\n  };\n\n  return (\n    <div class=\"options-facet\">\n      <div class=\"title\" onClick={tgExpand} onKeyDown={tgExpand}>\n        {title}\n      </div>\n      <div class=\"options\">{expanded ? inputs() : null}</div>\n    </div>\n  );\n}\n", "// biome-ignore lint/style/useImportType: h is needed for JSX.\nimport { Fragment, h } from \"preact\";\n\nimport \"./plangs_table.css\";\nimport { useContext } from \"preact/hooks\";\nimport type { VID_Plang } from \"src/schemas/entities\";\nimport { Plangs } from \"../../shared/state/plangs_context\";\n\ntype PlangsTableProps = {\n  pl_ids: VID_Plang[];\n  allRowsCount: number;\n};\n\nexport function PlangsTable({ pl_ids, allRowsCount }: PlangsTableProps) {\n  const pg = useContext(Plangs);\n  if (!pg || pg === \"error\") return <></>;\n\n  const rows: h.JSX.Element[] = [];\n\n  for (const vid of pl_ids) {\n    const pl = pg.v_plang.get(vid);\n    if (!pl) {\n      console.error(\"Missing plang\", vid);\n      continue;\n    }\n\n    const logo = pl.images?.find((img) => img.kind === \"logo\");\n    const homepage = pl.websites?.find((site) => site.kind === \"homepage\");\n    const wikipage = pl.websites?.find((site) => site.kind === \"wikipedia\");\n\n    rows.push(\n      <tr>\n        <td>{logo ? <img src={logo.url} alt={pl.name} class=\"logo\" /> : null}</td>\n        <td>{pl.name}</td>\n        <td>\n          {!homepage ? null : (\n            <a class=\"plang\" href={homepage.href} key=\"homepage\" target=\"_blank\">\n              home\n            </a>\n          )}\n          {!wikipage ? null : (\n            <a class=\"plang\" href={wikipage.href} key=\"wikipedia\" target=\"_blank\">\n              wiki\n            </a>\n          )}\n        </td>\n      </tr>,\n    );\n  }\n\n  return (\n    <table class=\"plangsTable\">\n      <caption>\n        Showing {pl_ids.length} of {allRowsCount} languages.\n      </caption>\n      <thead>\n        <tr>\n          <th>Logo</th>\n          <th>Lang</th>\n          <th>Websites</th>\n        </tr>\n      </thead>\n      <tbody>{rows}</tbody>\n    </table>\n  );\n}\n", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n", "import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n", "import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n", "import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n", "import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n", "/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n", "import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n", "import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n", "import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n", "/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n", "import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n", "/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n", "import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n", "/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n", "import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n", "/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n", "import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n", "import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n", "/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n", "import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n", "import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n", "/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n", "import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n", "import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n", "import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n", "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n", "import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n", "import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n", "import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n", "import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n", "import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n", "/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n", "import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n", "/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n", "import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n", "import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n", "import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n", "/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n", "import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n", "import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n", "/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n", "import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n", "/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n", "/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n", "/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n", "import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n", "import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n", "/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n", "/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n", "import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n", "import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n", "import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n", "import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n", "import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n", "/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n", "/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n", "import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n", "/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n", "/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n", "import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n", "/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n", "/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n", "import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n", "import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n", "import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n", "import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n", "import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n", "import { isEqual } from \"lodash-es\";\nimport { useReducer } from \"preact/hooks\";\nimport { addAll, hasAll, hasAny } from \"src/util\";\nimport type { VID_Plang, VID_TypeSystem } from \"../../schemas/entities\";\nimport type { PlangsGraph } from \"../../schemas/graph\";\nimport type { Filter } from \"../browse/components/facets/options\";\n\ntype Filters = \"typeSystems\";\n\ninterface PlangsQueryState {\n  pg: PlangsGraph;\n  pl_ids: VID_Plang[];\n  filters: Map<Filters, Filter>;\n}\n\ntype PlangsQueryAction = {\n  key: Filters;\n  filter: Filter;\n};\n\n// TODO: memoize this.\nfunction byTSys(pg: PlangsGraph, values: Set<string>, mode: Filter[\"valuesMode\"]): Set<VID_Plang> {\n  const result = new Set<VID_Plang>();\n  for (const vid of pg.v_plang.keys()) {\n    const tsys = pg.e_plang_tsys.adjacentFrom(vid);\n    if (mode === \"all-of\" ? hasAll(tsys, values) : hasAny(tsys, values)) result.add(vid);\n  }\n  return result;\n}\n\nfunction filterPlangs(pg: PlangsGraph, filters: Map<Filters, Filter>): VID_Plang[] {\n  const ids: VID_Plang[] = [];\n\n  const includes = new Set<VID_Plang>();\n  const excludes = new Set<VID_Plang>();\n\n  let useIncludes = false;\n  let useExcludes = false;\n\n  const ftTsys = filters.get(\"typeSystems\");\n  if (ftTsys?.enabled && ftTsys.values.size > 0) {\n    if (ftTsys.filterMode === \"include\") {\n      useIncludes = true;\n      addAll(includes, byTSys(pg, ftTsys.values, ftTsys.valuesMode));\n    } else {\n      useExcludes = true;\n      addAll(excludes, byTSys(pg, ftTsys.values, ftTsys.valuesMode));\n    }\n  }\n\n  for (const vid of pg.v_plang.keys()) {\n    if (useExcludes && excludes.has(vid)) continue;\n    if (useIncludes && !includes.has(vid)) continue;\n    ids.push(vid);\n  }\n\n  return ids;\n}\n\nfunction reducer(state: PlangsQueryState, { key, filter }: PlangsQueryAction): PlangsQueryState {\n  const { filters, pg } = state;\n\n  if (key === \"typeSystems\") filters.set(\"typeSystems\", filter);\n\n  const pl_ids = filterPlangs(pg, filters);\n  if (!isEqual(pl_ids, state.pl_ids)) return { ...state, pl_ids };\n\n  return state;\n}\n\nexport function usePlangsQuery(pg: PlangsGraph) {\n  const pl_ids: VID_Plang[] = [...pg.v_plang.keys()];\n  const filters = new Map<Filters, Filter>();\n  const initialState: PlangsQueryState = { pg, filters, pl_ids };\n  return useReducer(reducer, initialState);\n}\n", "import \"preact/debug\";\n\nimport { Fragment, h } from \"preact\";\nimport { useContext } from \"preact/hooks\";\n\nimport { start } from \"../shared/start\";\nimport { Plangs } from \"../shared/state/plangs_context\";\nimport { OptionsFacet } from \"./components/facets/options\";\nimport { PlangsTable } from \"./components/plangs_table\";\nimport { usePlangsQuery } from \"./state/plangs_query\";\n\nimport \"./browse.css\";\n\nfunction Browse() {\n  const pg = useContext(Plangs);\n\n  if (!pg) return <div>Loading...</div>;\n  if (pg === \"error\") return <div>Sorry, there's been an error loading the data.</div>;\n\n  const [plangsQuery, update] = usePlangsQuery(pg);\n\n  return (\n    <>\n      <nav class=\"browseNav\">\n        <OptionsFacet\n          title=\"Type System\"\n          options={[...pg.v_tsystem].map(([vid, tsys]) => [vid, tsys.name ?? vid])}\n          onChange={(filter) => update({ key: \"typeSystems\", filter })}\n        />\n      </nav>\n\n      <article class=\"browseContent\">\n        <PlangsTable pl_ids={plangsQuery.pl_ids} allRowsCount={pg.v_plang.size} />\n      </article>\n    </>\n  );\n}\n\nstart(\"browse\", <Browse />);\n"],
  "mappings": "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",
  "names": ["MODE_HYDRATE", "slice", "options", "vnodeId", "isValidElement", "rerenderQueue", "prevDebounce", "defer", "depthSort", "eventClock", "eventProxy", "eventProxyCapture", "i", "EMPTY_OBJ", "EMPTY_ARR", "IS_NON_DIMENSIONAL", "isArray", "Array", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "constructor", "__v", "__i", "__u", "Fragment", "props", "children", "BaseComponent", "context", "this", "getDomSibling", "vnode", "childIndex", "__", "sibling", "__k", "length", "__e", "type", "updateParentDomPointers", "i", "child", "__c", "base", "enqueueRender", "c", "__d", "rerenderQueue", "push", "process", "prevDebounce", "options", "debounceRendering", "defer", "renderQueueLength", "component", "newVNode", "oldVNode", "oldDom", "commitQueue", "refQueue", "sort", "depthSort", "shift", "assign", "__v", "diff", "__P", "namespaceURI", "__u", "__i", "commitRoot", "diffChildren", "parentDom", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "namespace", "excessDomChildren", "isHydrating", "childVNode", "newDom", "firstChildDom", "oldChildren", "EMPTY_ARR", "newChildrenLength", "constructNewChildrenArray", "EMPTY_OBJ", "ref", "applyRef", "isConnected", "insert", "nextSibling", "skewedIndex", "matchingIndex", "oldChildrenLength", "remainingOldChildren", "skew", "constructor", "String", "createVNode", "isArray", "key", "findMatchingIndex", "unmount", "parentVNode", "insertBefore", "nodeType", "findMatchingIndex", "childVNode", "oldChildren", "skewedIndex", "remainingOldChildren", "key", "type", "x", "y", "oldVNode", "__u", "length", "setStyle", "style", "value", "setProperty", "IS_NON_DIMENSIONAL", "test", "dom", "name", "oldValue", "namespace", "useCapture", "o", "cssText", "replace", "toLowerCase", "slice", "l", "_attached", "eventClock", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "createEventProxy", "this", "eventHandler", "_dispatched", "options", "event", "diff", "parentDom", "newVNode", "globalContext", "excessDomChildren", "commitQueue", "oldDom", "isHydrating", "refQueue", "tmp", "c", "isNew", "oldProps", "oldState", "snapshot", "clearProcessingException", "newProps", "provider", "componentContext", "i", "renderHook", "count", "renderResult", "newType", "constructor", "__e", "__b", "outer", "props", "contextType", "__c", "__", "__E", "prototype", "render", "BaseComponent", "doRender", "sub", "state", "context", "__n", "__h", "_sb", "__s", "getDerivedStateFromProps", "assign", "__v", "componentWillMount", "componentDidMount", "push", "componentWillReceiveProps", "shouldComponentUpdate", "__d", "__k", "forEach", "vnode", "componentWillUpdate", "componentDidUpdate", "__P", "__r", "getChildContext", "getSnapshotBeforeUpdate", "diffChildren", "isArray", "Fragment", "children", "base", "MODE_HYDRATE", "indexOf", "diffElementNodes", "diffed", "commitRoot", "root", "applyRef", "some", "cb", "call", "newHtml", "oldHtml", "newChildren", "inputValue", "checked", "nodeType", "localName", "document", "createTextNode", "createElementNS", "is", "data", "childNodes", "EMPTY_OBJ", "attributes", "__html", "innerHTML", "getDomSibling", "removeNode", "ref", "current", "unmount", "parentVNode", "skipRemove", "r", "componentWillUnmount", "replaceNode", "createElement", "namespaceURI", "firstChild", "createContext", "defaultValue", "contextId", "context", "__c", "i", "__", "Consumer", "props", "contextValue", "children", "Provider", "subs", "ctx", "this", "getChildContext", "shouldComponentUpdate", "_props", "value", "some", "c", "__e", "enqueueRender", "sub", "push", "old", "componentWillUnmount", "splice", "indexOf", "call", "contextType", "slice", "EMPTY_ARR", "options", "error", "vnode", "oldVNode", "errorInfo", "component", "ctor", "handled", "constructor", "getDerivedStateFromError", "setState", "__d", "componentDidCatch", "__E", "e", "vnodeId", "isValidElement", "undefined", "BaseComponent", "prototype", "update", "callback", "s", "__s", "state", "assign", "__v", "_sb", "forceUpdate", "__h", "render", "Fragment", "rerenderQueue", "defer", "Promise", "then", "bind", "resolve", "setTimeout", "depthSort", "a", "b", "__b", "process", "__r", "eventClock", "eventProxy", "createEventProxy", "eventProxyCapture", "window", "__PREACT_DEVTOOLS__", "attachPreact", "options", "Fragment", "Component", "loggedTypeFailures", "getDisplayName", "vnode", "type", "Fragment", "displayName", "name", "renderStack", "ownerStack", "getCurrentVNode", "length", "showJsxSourcePluginWarning", "isPossibleOwner", "getOwnerStack", "stack", "next", "__o", "push", "reduce", "acc", "owner", "source", "__source", "fileName", "lineNumber", "console", "warn", "isWeakMapSupported", "WeakMap", "getDomChildren", "domChildren", "__k", "forEach", "child", "apply", "getClosestDomNodeParentName", "parent", "__", "__e", "parentNode", "localName", "setState", "Component", "prototype", "isTableElement", "update", "callback", "this", "state", "call", "ILLEGAL_PARAGRAPH_CHILD_ELEMENTS", "forceUpdate", "serializeVNode", "props", "attrs", "prop", "hasOwnProperty", "value", "Object", "toString", "JSON", "stringify", "children", "__v", "setupComponentStack", "oldDiff", "options", "__b", "oldDiffed", "diffed", "oldRoot", "oldVNode", "oldRender", "__r", "pop", "hooksAllowed", "oldBeforeDiff", "oldVnode", "oldCatchError", "oldHook", "__h", "warnedComponents", "useEffect", "useLayoutEffect", "lazyPropTypes", "deprecations", "error", "errorInfo", "__c", "then", "promise", "Error", "componentStack", "setTimeout", "e", "isValid", "nodeType", "componentName", "Array", "isArray", "ref", "key", "propTypes", "has", "m", "lazyVNode", "set", "values", "__f", "obj", "i", "checkPropTypes", "typeSpecs", "location", "getStack", "keys", "typeSpecName", "message", "loggedTypeFailures", "currentComponent", "renderCount", "nextComponent", "comp", "index", "property", "get", "indexOf", "deprecatedAttributes", "nodeName", "attributes", "deprecatedProto", "create", "newProps", "v", "__self", "__proto__", "join", "domParentName", "log", "illegalDomChildrenTypes", "filter", "childType", "test", "__H", "hooks", "hook", "j", "initDebug", "currentIndex", "currentComponent", "previousComponent", "prevRaf", "currentHook", "afterPaintEffects", "EMPTY", "options", "_options", "oldBeforeDiff", "__b", "oldBeforeRender", "__r", "oldAfterDiff", "diffed", "oldCommit", "__c", "oldBeforeUnmount", "unmount", "oldRoot", "__", "getHookState", "index", "type", "__h", "hooks", "__H", "length", "push", "__V", "useState", "initialState", "useReducer", "invokeOrReturn", "reducer", "init", "hookState", "_reducer", "action", "currentValue", "__N", "nextValue", "setState", "_hasScuFromHooks", "updateHookState", "p", "s", "c", "stateHooks", "filter", "x", "every", "prevScu", "call", "this", "shouldUpdate", "forEach", "hookItem", "props", "shouldComponentUpdate", "prevCWU", "componentWillUpdate", "__e", "tmp", "useEffect", "callback", "args", "state", "argsChanged", "_pendingArgs", "useContext", "context", "provider", "currentComponent", "__c", "state", "getHookState", "currentIndex", "c", "__", "sub", "props", "value", "flushAfterPaintEffects", "component", "afterPaintEffects", "shift", "__P", "__H", "__h", "forEach", "invokeCleanup", "invokeEffect", "e", "options", "__e", "__v", "__b", "vnode", "currentComponent", "oldBeforeDiff", "parentDom", "__k", "__m", "oldRoot", "__r", "oldBeforeRender", "currentIndex", "hooks", "__c", "previousComponent", "__", "hookItem", "__N", "__V", "EMPTY", "_pendingArgs", "diffed", "oldAfterDiff", "c", "length", "push", "prevRaf", "requestAnimationFrame", "afterNextFrame", "commitQueue", "some", "filter", "cb", "oldCommit", "unmount", "oldBeforeUnmount", "hasErrored", "s", "HAS_RAF", "callback", "raf", "done", "clearTimeout", "timeout", "cancelAnimationFrame", "setTimeout", "hook", "comp", "cleanup", "argsChanged", "oldArgs", "newArgs", "arg", "index", "invokeOrReturn", "f", "s", "t", "err", "v", "g", "l2", "e", "p", "_", "pg", "p", "_", "e", "P", "Symbol", "e", "objectProto", "nativeObjectToString", "symToStringTag", "e", "funcProto", "objectProto", "funcToString", "hasOwnProperty", "WeakMap", "MAX_SAFE_INTEGER", "objectProto", "n", "objectProto", "hasOwnProperty", "argsTag", "funcTag", "freeExports", "freeModule", "moduleExports", "e", "objectProto", "hasOwnProperty", "objectProto", "hasOwnProperty", "objectProto", "hasOwnProperty", "objectProto", "hasOwnProperty", "HASH_UNDEFINED", "Map", "objectProto", "propertyIsEnumerable", "Promise", "Set", "mapTag", "objectTag", "setTag", "weakMapTag", "dataViewTag", "HASH_UNDEFINED", "othValue", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "boolTag", "dateTag", "errorTag", "mapTag", "numberTag", "regexpTag", "setTag", "stringTag", "arrayBufferTag", "dataViewTag", "COMPARE_PARTIAL_FLAG", "objectProto", "hasOwnProperty", "COMPARE_PARTIAL_FLAG", "argsTag", "arrayTag", "objectTag", "objectProto", "hasOwnProperty", "y", "P"]
}
